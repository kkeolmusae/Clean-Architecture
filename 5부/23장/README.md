# 23장 프레젠터와 험블 객체

</br>

### 험블 객체 패턴
험블 객체 패턴은 테스트 하기 어려운 행위와 테스트하기 쉬운 행위를 단위 테스트 작성자가 분리하기 쉽게 하는 방법이다.

가장 기본적인 본질은 남기고, 테스트 하기 어려운 행위를 모두 별도의 객체로 옮긴다. 여기서 말하는 별도의 객체가 "험블" 이다.

예를들어 GUI에서 수행하는 행위에 대해 험블 객체 패턴을 사용하면 프레젠터와 뷰 라는 서로 다른 클래스로 만들 수 있다.

</br>

### 프레젠터와 뷰

프레젠터는 애플리케이션으로 부터 데이터를 받아 화면에 표현할 수 있는 포맷으로 만드는 역할을 한다.

뷰는 데이터를 화면으로 전달하는 간단한 역할을 한다. 

</br>

### 테스트와 아키텍처
테스트 용이성는 좋은 아키텍처가 지녀야 할 속성이다 (ㅠㅠ)

행위를 테스트하기 쉬운 부분과 테스트하기 어려운 부분으로 분리하면 아키텍처 경계가 정의된다.

</br>

### 데이터베이스 게이트웨이
데이터베이스 게이트웨이는 다형적 인터페이스로, 애플리케이션이 DB에 수행하는 CRUD 작업과 관련된 모든 메서드를 포함한다. (CRUD와 관련된 메서드를 포함하는것이지 ORM을 사용하여 직접적인 호출을 하지 않는다!!)

유스케이스 계층은 SQL을 허용하지 않는다. 따라서 유스케이스 계층은 필요한 메서드를 제공하는 게이트웨이 인터페이스를 호출한다. 

</br>

### 데이터 매퍼
관계형 데이터베이스 테이블로부터 가져온 데이터를 데이터 구조에 맞게 담아주는 역할을 한다.

(대충 유스케이스 인터랙터 - DB Gateway - Data Mapper - ORM - DB 구조인가...?)

</br>

### 서비스 리스너
외부로 부터 데이터를 수신하는 경우, 
서비스 인터페이스로 부터 데이터를 수신하고, 데이터를 애플리케이션에서 사용할 수 있게 간단한 데이터 구조로 포맷을 변경한다.

내부에서 데이터를 발신하는 경우,
데이터를 적절한 포맷으로 만들어서 외부 서비스로 전송한다. 

</br>

## 결론
험블 객체 패턴을 사용하면 테스트하기 어려운 무언가와 쉬운 무언가로 분리하여 전체 시스템의 테스트 용이성을 높여준다. 